<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/roomsurferKO.css') }}">
  <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/knockout-3.1.0.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/replacement.js') }}"></script>
  <!-- <link rel="shortcut icon" href="{{ url_for('static', filename='img/logo2favicon.ico') }}"> -->
  <title>Roomsurfer</title> 
</head>
<body>
<div id="container">

<div id="header">
  <h1>Roomsurfer</h1>
  <ul class="nav">
    <li class="fancybutton roomsbutton" id="times-to-rooms">Find rooms</li>
  </ul>
  <ul class="nav">
    <li class="fancybutton timesbutton" id="rooms-to-times">Find times</li>
  </ul>
</div>


<div id="splash">
  <p>Welcome to Roomsurfer! This page is meant to be used by University of Waterloo students when they are in need of a room
  to study in. Click "Find times" to find out when a particular room is free, or click "Find rooms" to find out what 
  rooms are free at a specific time. The current term is Spring 2014 (1145).</p> 

  <p>PLEASE NOTE: These times do not include private bookings, i.e. if the room has been booked by a school club, then it will 
  not appear here. This will only be able to display when a particular room does not have a class in it. Perhaps one day I 
  will be able to handle private bookings.</p>
  <ul class="nav">
    <li class="fancybutton timesbutton" id="splashtimes">Find times</li>
    <li class="fancybutton roomsbutton" id="splashrooms">Find rooms</li>
  </ul>

  <p>Like this project? Wanna see the source code? Got an issue? Check out the GitHub repo <a href="https://github.com/StDako/Roomsurfer">here</a>.</p>
</div>


<div id="times" class="inputscreen">
  <h3>Find free times</h3>
  <p>Enter a room to check when it's free. You should note that the latest a class can
    run is 9:50 PM, so if a room is free until then, it will be free afterwards too. To see a full list of all building 
    abbreviations, click <a href="https://uwaterloo.ca/map/">here</a>.</p>
  <div class="centering">
    <select data-bind="options: codes, value: building"></select><select data-bind="options: rooms, value: roomnum"></select><button data-bind="click: getTimes">Check Times</button>
  </div><br><br>
  
  <p><strong><span data-bind="text: roomInfo"></span></strong> is available at:</p>

  <span data-bind="foreach: roomFreeTimes">
    <span class="centering">
      <span class="daySpan">
        <strong><span data-bind="text: dayName"></span></strong><br>
        <span data-bind="foreach: dayTimes"><span data-bind="text: $data"></span><br></span>
      </span> <!--end daySpan -->
    </span> <!-- end centering -->
  </span>
</div>


<div id="rooms" class="inputscreen">
  <h3>Find free rooms</h3>
  <p>Select a time interval (start time and end time) to check what rooms are free.</p>

  <div class="centering">
    <p><select data-bind="options: allStartTimes, optionsText: 'timeVal', optionsValue: 'intVal', event: {change: changeStart}"></select>
    <select data-bind="options: allEndTimes, optionsText: 'timeVal', optionsValue: 'intVal', event: {change: changeEnd}"></select>
    <select data-bind="options: allDays, value: day"></select>
    <button id="getrooms" data-bind="click: getRooms, disable: ((converttoint(startTime()) > converttoint(endTime())) || (converttoint(endTime()) - converttoint(startTime()) === 20))">Check Rooms</button></p>
  </div>

  <p>The following rooms are available from <strong><span data-bind="text: startTime"></span> - <span data-bind="text: endTime"></span></strong> on <strong><span data-bind="text: daySpan"></span></strong>:</p><br>
  <p data-bind="foreach: allFreeRooms">
    <strong><span data-bind="text: building"></span></strong><br>
    <span data-bind="text: times.join(', ')"></span><br><br>
  </p>

</div> <!-- end #rooms -->

</div> <!-- end #container -->
</body>
</html>